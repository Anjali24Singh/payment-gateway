<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>ApiResponse.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">payment-gateway</a> &gt; <a href="index.source.html" class="el_package">com.talentica.paymentgateway.dto.common</a> &gt; <span class="el_source">ApiResponse.java</span></div><h1>ApiResponse.java</h1><pre class="source lang-java linenums">package com.talentica.paymentgateway.dto.common;

import com.fasterxml.jackson.annotation.JsonFormat;
import com.fasterxml.jackson.annotation.JsonInclude;
import io.swagger.v3.oas.annotations.media.Schema;

import java.time.LocalDateTime;

/**
 * Standard API response wrapper for consistent response format across all endpoints.
 * 
 * @param &lt;T&gt; Type of the response data
 * @author Payment Gateway Team
 * @version 1.0.0
 */
@JsonInclude(JsonInclude.Include.NON_NULL)
@Schema(description = &quot;Standard API response wrapper&quot;)
public class ApiResponse&lt;T&gt; {

    @Schema(description = &quot;Indicates if the request was successful&quot;, example = &quot;true&quot;)
    private boolean success;

    @Schema(description = &quot;Response data payload&quot;)
    private T data;

    @Schema(description = &quot;Error information (present only when success=false)&quot;)
    private ErrorInfo error;

    @Schema(description = &quot;Response metadata&quot;)
    private ResponseMetadata metadata;

    @Schema(description = &quot;Response timestamp&quot;, example = &quot;2025-09-10T10:30:00&quot;)
    @JsonFormat(pattern = &quot;yyyy-MM-dd'T'HH:mm:ss&quot;)
    private LocalDateTime timestamp;

<span class="fc" id="L36">    public ApiResponse() {</span>
<span class="fc" id="L37">        this.timestamp = LocalDateTime.now();</span>
<span class="fc" id="L38">    }</span>

    public ApiResponse(T data) {
<span class="fc" id="L41">        this();</span>
<span class="fc" id="L42">        this.success = true;</span>
<span class="fc" id="L43">        this.data = data;</span>
<span class="fc" id="L44">    }</span>

    public ApiResponse(ErrorInfo error) {
<span class="fc" id="L47">        this();</span>
<span class="fc" id="L48">        this.success = false;</span>
<span class="fc" id="L49">        this.error = error;</span>
<span class="fc" id="L50">    }</span>

    public ApiResponse(T data, ResponseMetadata metadata) {
<span class="fc" id="L53">        this();</span>
<span class="fc" id="L54">        this.success = true;</span>
<span class="fc" id="L55">        this.data = data;</span>
<span class="fc" id="L56">        this.metadata = metadata;</span>
<span class="fc" id="L57">    }</span>

    // Static factory methods for convenience
    public static &lt;T&gt; ApiResponse&lt;T&gt; success(T data) {
<span class="fc" id="L61">        return new ApiResponse&lt;&gt;(data);</span>
    }

    public static &lt;T&gt; ApiResponse&lt;T&gt; success(T data, ResponseMetadata metadata) {
<span class="fc" id="L65">        return new ApiResponse&lt;&gt;(data, metadata);</span>
    }

    public static &lt;T&gt; ApiResponse&lt;T&gt; error(ErrorInfo error) {
<span class="fc" id="L69">        return new ApiResponse&lt;&gt;(error);</span>
    }

    public static &lt;T&gt; ApiResponse&lt;T&gt; error(String code, String message) {
<span class="nc" id="L73">        return new ApiResponse&lt;&gt;(new ErrorInfo(code, message));</span>
    }

    public static &lt;T&gt; ApiResponse&lt;T&gt; error(String code, String message, String description) {
<span class="fc" id="L77">        return new ApiResponse&lt;&gt;(new ErrorInfo(code, message, description));</span>
    }

    // Getters and setters
    public boolean isSuccess() {
<span class="fc" id="L82">        return success;</span>
    }

    public void setSuccess(boolean success) {
<span class="fc" id="L86">        this.success = success;</span>
<span class="fc" id="L87">    }</span>

    public T getData() {
<span class="fc" id="L90">        return data;</span>
    }

    public void setData(T data) {
<span class="fc" id="L94">        this.data = data;</span>
<span class="fc" id="L95">    }</span>

    public ErrorInfo getError() {
<span class="fc" id="L98">        return error;</span>
    }

    public void setError(ErrorInfo error) {
<span class="fc" id="L102">        this.error = error;</span>
<span class="fc" id="L103">    }</span>

    public ResponseMetadata getMetadata() {
<span class="fc" id="L106">        return metadata;</span>
    }

    public void setMetadata(ResponseMetadata metadata) {
<span class="fc" id="L110">        this.metadata = metadata;</span>
<span class="fc" id="L111">    }</span>

    public LocalDateTime getTimestamp() {
<span class="fc" id="L114">        return timestamp;</span>
    }

    public void setTimestamp(LocalDateTime timestamp) {
<span class="fc" id="L118">        this.timestamp = timestamp;</span>
<span class="fc" id="L119">    }</span>

    /**
     * Error information structure for API responses.
     */
    @Schema(description = &quot;Error information&quot;)
    public static class ErrorInfo {
        @Schema(description = &quot;Error code&quot;, example = &quot;PAYMENT_FAILED&quot;)
        private String code;

        @Schema(description = &quot;Error message&quot;, example = &quot;Payment processing failed&quot;)
        private String message;

        @Schema(description = &quot;Detailed error description&quot;)
        private String description;

        @Schema(description = &quot;Correlation ID for tracking&quot;, example = &quot;corr-12345678&quot;)
        private String correlationId;

<span class="fc" id="L138">        public ErrorInfo() {}</span>

<span class="nc" id="L140">        public ErrorInfo(String code, String message) {</span>
<span class="nc" id="L141">            this.code = code;</span>
<span class="nc" id="L142">            this.message = message;</span>
<span class="nc" id="L143">        }</span>

<span class="fc" id="L145">        public ErrorInfo(String code, String message, String description) {</span>
<span class="fc" id="L146">            this.code = code;</span>
<span class="fc" id="L147">            this.message = message;</span>
<span class="fc" id="L148">            this.description = description;</span>
<span class="fc" id="L149">        }</span>

        // Getters and setters
<span class="fc" id="L152">        public String getCode() { return code; }</span>
<span class="fc" id="L153">        public void setCode(String code) { this.code = code; }</span>
<span class="fc" id="L154">        public String getMessage() { return message; }</span>
<span class="fc" id="L155">        public void setMessage(String message) { this.message = message; }</span>
<span class="fc" id="L156">        public String getDescription() { return description; }</span>
<span class="fc" id="L157">        public void setDescription(String description) { this.description = description; }</span>
<span class="fc" id="L158">        public String getCorrelationId() { return correlationId; }</span>
<span class="fc" id="L159">        public void setCorrelationId(String correlationId) { this.correlationId = correlationId; }</span>
    }

    /**
     * Response metadata for additional context.
     */
    @Schema(description = &quot;Response metadata&quot;)
    public static class ResponseMetadata {
        @Schema(description = &quot;API version&quot;, example = &quot;v1&quot;)
        private String version;

        @Schema(description = &quot;Request correlation ID&quot;, example = &quot;corr-12345678&quot;)
        private String correlationId;

        @Schema(description = &quot;Processing time in milliseconds&quot;, example = &quot;150&quot;)
        private Long processingTimeMs;

        @Schema(description = &quot;Pagination information&quot;)
        private PaginationInfo pagination;

<span class="fc" id="L179">        public ResponseMetadata() {}</span>

<span class="fc" id="L181">        public ResponseMetadata(String version, String correlationId) {</span>
<span class="fc" id="L182">            this.version = version;</span>
<span class="fc" id="L183">            this.correlationId = correlationId;</span>
<span class="fc" id="L184">        }</span>

        // Getters and setters
<span class="fc" id="L187">        public String getVersion() { return version; }</span>
<span class="fc" id="L188">        public void setVersion(String version) { this.version = version; }</span>
<span class="fc" id="L189">        public String getCorrelationId() { return correlationId; }</span>
<span class="fc" id="L190">        public void setCorrelationId(String correlationId) { this.correlationId = correlationId; }</span>
<span class="fc" id="L191">        public Long getProcessingTimeMs() { return processingTimeMs; }</span>
<span class="fc" id="L192">        public void setProcessingTimeMs(Long processingTimeMs) { this.processingTimeMs = processingTimeMs; }</span>
<span class="fc" id="L193">        public PaginationInfo getPagination() { return pagination; }</span>
<span class="fc" id="L194">        public void setPagination(PaginationInfo pagination) { this.pagination = pagination; }</span>
    }

    /**
     * Pagination information for list responses.
     */
    @Schema(description = &quot;Pagination information&quot;)
    public static class PaginationInfo {
        @Schema(description = &quot;Current page number (0-based)&quot;, example = &quot;0&quot;)
        private int page;

        @Schema(description = &quot;Number of items per page&quot;, example = &quot;20&quot;)
        private int size;

        @Schema(description = &quot;Total number of items&quot;, example = &quot;150&quot;)
        private long totalElements;

        @Schema(description = &quot;Total number of pages&quot;, example = &quot;8&quot;)
        private int totalPages;

        @Schema(description = &quot;Whether there are more pages&quot;, example = &quot;true&quot;)
        private boolean hasNext;

        @Schema(description = &quot;Whether there are previous pages&quot;, example = &quot;false&quot;)
        private boolean hasPrevious;

<span class="fc" id="L220">        public PaginationInfo() {}</span>

<span class="fc" id="L222">        public PaginationInfo(int page, int size, long totalElements, int totalPages) {</span>
<span class="fc" id="L223">            this.page = page;</span>
<span class="fc" id="L224">            this.size = size;</span>
<span class="fc" id="L225">            this.totalElements = totalElements;</span>
<span class="fc" id="L226">            this.totalPages = totalPages;</span>
<span class="pc bpc" id="L227" title="1 of 2 branches missed.">            this.hasNext = page &lt; totalPages - 1;</span>
<span class="pc bpc" id="L228" title="1 of 2 branches missed.">            this.hasPrevious = page &gt; 0;</span>
<span class="fc" id="L229">        }</span>

        // Getters and setters
<span class="fc" id="L232">        public int getPage() { return page; }</span>
<span class="fc" id="L233">        public void setPage(int page) { this.page = page; }</span>
<span class="fc" id="L234">        public int getSize() { return size; }</span>
<span class="fc" id="L235">        public void setSize(int size) { this.size = size; }</span>
<span class="fc" id="L236">        public long getTotalElements() { return totalElements; }</span>
<span class="fc" id="L237">        public void setTotalElements(long totalElements) { this.totalElements = totalElements; }</span>
<span class="fc" id="L238">        public int getTotalPages() { return totalPages; }</span>
<span class="fc" id="L239">        public void setTotalPages(int totalPages) { this.totalPages = totalPages; }</span>
<span class="fc" id="L240">        public boolean isHasNext() { return hasNext; }</span>
<span class="fc" id="L241">        public void setHasNext(boolean hasNext) { this.hasNext = hasNext; }</span>
<span class="fc" id="L242">        public boolean isHasPrevious() { return hasPrevious; }</span>
<span class="fc" id="L243">        public void setHasPrevious(boolean hasPrevious) { this.hasPrevious = hasPrevious; }</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.10.202304240956</span></div></body></html>