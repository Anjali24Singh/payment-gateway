<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>FailedPaymentAnalysis.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">payment-gateway</a> &gt; <a href="index.source.html" class="el_package">com.talentica.paymentgateway.dto.analytics</a> &gt; <span class="el_source">FailedPaymentAnalysis.java</span></div><h1>FailedPaymentAnalysis.java</h1><pre class="source lang-java linenums">package com.talentica.paymentgateway.dto.analytics;

import io.swagger.v3.oas.annotations.media.Schema;

import java.math.BigDecimal;
import java.time.ZonedDateTime;
import java.util.List;
import java.util.Map;

/**
 * DTO for failed payment analysis and fraud detection reporting.
 * Provides insights into payment failures, patterns, and risk indicators.
 * 
 * @author Payment Gateway Team
 * @version 1.0.0
 */
@Schema(description = &quot;Failed payment analysis with fraud detection insights&quot;)
public class FailedPaymentAnalysis {
    
    @Schema(description = &quot;Total number of failed payments&quot;)
    private long totalFailedPayments;
    
    @Schema(description = &quot;Failed payment rate as percentage&quot;)
    private double failureRate;
    
    @Schema(description = &quot;Total amount of failed payments&quot;)
    private BigDecimal totalFailedAmount;
    
    @Schema(description = &quot;Analysis period start&quot;)
    private ZonedDateTime periodStart;
    
    @Schema(description = &quot;Analysis period end&quot;)
    private ZonedDateTime periodEnd;
    
    @Schema(description = &quot;Breakdown of failures by error code&quot;)
    private Map&lt;String, FailureCodeAnalysis&gt; errorCodeBreakdown;
    
    @Schema(description = &quot;Breakdown of failures by payment method&quot;)
    private Map&lt;String, Long&gt; paymentMethodBreakdown;
    
    @Schema(description = &quot;Geographic failure patterns&quot;)
    private List&lt;GeographicFailurePattern&gt; geographicPatterns;
    
    @Schema(description = &quot;Temporal failure patterns&quot;)
    private List&lt;TemporalFailurePattern&gt; temporalPatterns;
    
    @Schema(description = &quot;Risk indicators and fraud signals&quot;)
    private FraudRiskIndicators riskIndicators;
    
    @Schema(description = &quot;Recommended actions&quot;)
    private List&lt;String&gt; recommendations;
    
    // Constructors
<span class="fc" id="L54">    public FailedPaymentAnalysis() {}</span>
    
    // Getters and Setters
    public long getTotalFailedPayments() {
<span class="fc" id="L58">        return totalFailedPayments;</span>
    }
    
    public void setTotalFailedPayments(long totalFailedPayments) {
<span class="fc" id="L62">        this.totalFailedPayments = totalFailedPayments;</span>
<span class="fc" id="L63">    }</span>
    
    public double getFailureRate() {
<span class="fc" id="L66">        return failureRate;</span>
    }
    
    public void setFailureRate(double failureRate) {
<span class="fc" id="L70">        this.failureRate = failureRate;</span>
<span class="fc" id="L71">    }</span>
    
    public BigDecimal getTotalFailedAmount() {
<span class="fc" id="L74">        return totalFailedAmount;</span>
    }
    
    public void setTotalFailedAmount(BigDecimal totalFailedAmount) {
<span class="fc" id="L78">        this.totalFailedAmount = totalFailedAmount;</span>
<span class="fc" id="L79">    }</span>
    
    public ZonedDateTime getPeriodStart() {
<span class="fc" id="L82">        return periodStart;</span>
    }
    
    public void setPeriodStart(ZonedDateTime periodStart) {
<span class="fc" id="L86">        this.periodStart = periodStart;</span>
<span class="fc" id="L87">    }</span>
    
    public ZonedDateTime getPeriodEnd() {
<span class="fc" id="L90">        return periodEnd;</span>
    }
    
    public void setPeriodEnd(ZonedDateTime periodEnd) {
<span class="fc" id="L94">        this.periodEnd = periodEnd;</span>
<span class="fc" id="L95">    }</span>
    
    public Map&lt;String, FailureCodeAnalysis&gt; getErrorCodeBreakdown() {
<span class="fc" id="L98">        return errorCodeBreakdown;</span>
    }
    
    public void setErrorCodeBreakdown(Map&lt;String, FailureCodeAnalysis&gt; errorCodeBreakdown) {
<span class="fc" id="L102">        this.errorCodeBreakdown = errorCodeBreakdown;</span>
<span class="fc" id="L103">    }</span>
    
    public Map&lt;String, Long&gt; getPaymentMethodBreakdown() {
<span class="fc" id="L106">        return paymentMethodBreakdown;</span>
    }
    
    public void setPaymentMethodBreakdown(Map&lt;String, Long&gt; paymentMethodBreakdown) {
<span class="fc" id="L110">        this.paymentMethodBreakdown = paymentMethodBreakdown;</span>
<span class="fc" id="L111">    }</span>
    
    public List&lt;GeographicFailurePattern&gt; getGeographicPatterns() {
<span class="fc" id="L114">        return geographicPatterns;</span>
    }
    
    public void setGeographicPatterns(List&lt;GeographicFailurePattern&gt; geographicPatterns) {
<span class="fc" id="L118">        this.geographicPatterns = geographicPatterns;</span>
<span class="fc" id="L119">    }</span>
    
    public List&lt;TemporalFailurePattern&gt; getTemporalPatterns() {
<span class="fc" id="L122">        return temporalPatterns;</span>
    }
    
    public void setTemporalPatterns(List&lt;TemporalFailurePattern&gt; temporalPatterns) {
<span class="fc" id="L126">        this.temporalPatterns = temporalPatterns;</span>
<span class="fc" id="L127">    }</span>
    
    public FraudRiskIndicators getRiskIndicators() {
<span class="fc" id="L130">        return riskIndicators;</span>
    }
    
    public void setRiskIndicators(FraudRiskIndicators riskIndicators) {
<span class="fc" id="L134">        this.riskIndicators = riskIndicators;</span>
<span class="fc" id="L135">    }</span>
    
    public List&lt;String&gt; getRecommendations() {
<span class="fc" id="L138">        return recommendations;</span>
    }
    
    public void setRecommendations(List&lt;String&gt; recommendations) {
<span class="fc" id="L142">        this.recommendations = recommendations;</span>
<span class="fc" id="L143">    }</span>
    
    /**
     * Analysis of specific failure codes.
     */
    @Schema(description = &quot;Analysis of specific failure error codes&quot;)
    public static class FailureCodeAnalysis {
        private String errorCode;
        private String description;
        private long count;
        private double percentage;
        private BigDecimal totalAmount;
        private boolean isRetryable;
        private String recommendedAction;
        
        // Constructors
<span class="fc" id="L159">        public FailureCodeAnalysis() {}</span>
        
<span class="fc" id="L161">        public FailureCodeAnalysis(String errorCode, String description, long count, double percentage) {</span>
<span class="fc" id="L162">            this.errorCode = errorCode;</span>
<span class="fc" id="L163">            this.description = description;</span>
<span class="fc" id="L164">            this.count = count;</span>
<span class="fc" id="L165">            this.percentage = percentage;</span>
<span class="fc" id="L166">        }</span>
        
        // Getters and Setters
        public String getErrorCode() {
<span class="fc" id="L170">            return errorCode;</span>
        }
        
        public void setErrorCode(String errorCode) {
<span class="fc" id="L174">            this.errorCode = errorCode;</span>
<span class="fc" id="L175">        }</span>
        
        public String getDescription() {
<span class="fc" id="L178">            return description;</span>
        }
        
        public void setDescription(String description) {
<span class="fc" id="L182">            this.description = description;</span>
<span class="fc" id="L183">        }</span>
        
        public long getCount() {
<span class="fc" id="L186">            return count;</span>
        }
        
        public void setCount(long count) {
<span class="fc" id="L190">            this.count = count;</span>
<span class="fc" id="L191">        }</span>
        
        public double getPercentage() {
<span class="fc" id="L194">            return percentage;</span>
        }
        
        public void setPercentage(double percentage) {
<span class="fc" id="L198">            this.percentage = percentage;</span>
<span class="fc" id="L199">        }</span>
        
        public BigDecimal getTotalAmount() {
<span class="fc" id="L202">            return totalAmount;</span>
        }
        
        public void setTotalAmount(BigDecimal totalAmount) {
<span class="fc" id="L206">            this.totalAmount = totalAmount;</span>
<span class="fc" id="L207">        }</span>
        
        public boolean isRetryable() {
<span class="nc" id="L210">            return isRetryable;</span>
        }
        
        public void setRetryable(boolean retryable) {
<span class="fc" id="L214">            isRetryable = retryable;</span>
<span class="fc" id="L215">        }</span>
        
        public String getRecommendedAction() {
<span class="fc" id="L218">            return recommendedAction;</span>
        }
        
        public void setRecommendedAction(String recommendedAction) {
<span class="fc" id="L222">            this.recommendedAction = recommendedAction;</span>
<span class="fc" id="L223">        }</span>
    }
    
    /**
     * Geographic failure patterns by region or country.
     */
    @Schema(description = &quot;Geographic failure patterns and hotspots&quot;)
    public static class GeographicFailurePattern {
        private String region;
        private String countryCode;
        private long failureCount;
        private double failureRate;
        private String riskLevel;
        
        // Constructors
<span class="fc" id="L238">        public GeographicFailurePattern() {}</span>
        
        // Getters and Setters
        public String getRegion() {
<span class="fc" id="L242">            return region;</span>
        }
        
        public void setRegion(String region) {
<span class="fc" id="L246">            this.region = region;</span>
<span class="fc" id="L247">        }</span>
        
        public String getCountryCode() {
<span class="fc" id="L250">            return countryCode;</span>
        }
        
        public void setCountryCode(String countryCode) {
<span class="fc" id="L254">            this.countryCode = countryCode;</span>
<span class="fc" id="L255">        }</span>
        
        public long getFailureCount() {
<span class="fc" id="L258">            return failureCount;</span>
        }
        
        public void setFailureCount(long failureCount) {
<span class="fc" id="L262">            this.failureCount = failureCount;</span>
<span class="fc" id="L263">        }</span>
        
        public double getFailureRate() {
<span class="fc" id="L266">            return failureRate;</span>
        }
        
        public void setFailureRate(double failureRate) {
<span class="fc" id="L270">            this.failureRate = failureRate;</span>
<span class="fc" id="L271">        }</span>
        
        public String getRiskLevel() {
<span class="fc" id="L274">            return riskLevel;</span>
        }
        
        public void setRiskLevel(String riskLevel) {
<span class="fc" id="L278">            this.riskLevel = riskLevel;</span>
<span class="fc" id="L279">        }</span>
    }
    
    /**
     * Temporal failure patterns by time periods.
     */
    @Schema(description = &quot;Temporal failure patterns and trends&quot;)
    public static class TemporalFailurePattern {
        private String timePeriod;
        private ZonedDateTime periodStart;
        private ZonedDateTime periodEnd;
        private long failureCount;
        private double failureRate;
        private String trend;
        
        // Constructors
<span class="fc" id="L295">        public TemporalFailurePattern() {}</span>
        
        // Getters and Setters
        public String getTimePeriod() {
<span class="fc" id="L299">            return timePeriod;</span>
        }
        
        public void setTimePeriod(String timePeriod) {
<span class="fc" id="L303">            this.timePeriod = timePeriod;</span>
<span class="fc" id="L304">        }</span>
        
        public ZonedDateTime getPeriodStart() {
<span class="fc" id="L307">            return periodStart;</span>
        }
        
        public void setPeriodStart(ZonedDateTime periodStart) {
<span class="fc" id="L311">            this.periodStart = periodStart;</span>
<span class="fc" id="L312">        }</span>
        
        public ZonedDateTime getPeriodEnd() {
<span class="fc" id="L315">            return periodEnd;</span>
        }
        
        public void setPeriodEnd(ZonedDateTime periodEnd) {
<span class="fc" id="L319">            this.periodEnd = periodEnd;</span>
<span class="fc" id="L320">        }</span>
        
        public long getFailureCount() {
<span class="fc" id="L323">            return failureCount;</span>
        }
        
        public void setFailureCount(long failureCount) {
<span class="fc" id="L327">            this.failureCount = failureCount;</span>
<span class="fc" id="L328">        }</span>
        
        public double getFailureRate() {
<span class="fc" id="L331">            return failureRate;</span>
        }
        
        public void setFailureRate(double failureRate) {
<span class="fc" id="L335">            this.failureRate = failureRate;</span>
<span class="fc" id="L336">        }</span>
        
        public String getTrend() {
<span class="fc" id="L339">            return trend;</span>
        }
        
        public void setTrend(String trend) {
<span class="fc" id="L343">            this.trend = trend;</span>
<span class="fc" id="L344">        }</span>
    }
    
    /**
     * Fraud risk indicators and security metrics.
     */
    @Schema(description = &quot;Fraud risk indicators and security analytics&quot;)
    public static class FraudRiskIndicators {
        private long suspiciousTransactions;
        private double fraudScore;
        private long velocityViolations;
        private long duplicateAttempts;
        private long unusualPatterns;
        private List&lt;String&gt; riskFactors;
        private String overallRiskLevel;
        
        // Constructors
<span class="fc" id="L361">        public FraudRiskIndicators() {}</span>
        
        // Getters and Setters
        public long getSuspiciousTransactions() {
<span class="fc" id="L365">            return suspiciousTransactions;</span>
        }
        
        public void setSuspiciousTransactions(long suspiciousTransactions) {
<span class="fc" id="L369">            this.suspiciousTransactions = suspiciousTransactions;</span>
<span class="fc" id="L370">        }</span>
        
        public double getFraudScore() {
<span class="fc" id="L373">            return fraudScore;</span>
        }
        
        public void setFraudScore(double fraudScore) {
<span class="fc" id="L377">            this.fraudScore = fraudScore;</span>
<span class="fc" id="L378">        }</span>
        
        public long getVelocityViolations() {
<span class="fc" id="L381">            return velocityViolations;</span>
        }
        
        public void setVelocityViolations(long velocityViolations) {
<span class="fc" id="L385">            this.velocityViolations = velocityViolations;</span>
<span class="fc" id="L386">        }</span>
        
        public long getDuplicateAttempts() {
<span class="fc" id="L389">            return duplicateAttempts;</span>
        }
        
        public void setDuplicateAttempts(long duplicateAttempts) {
<span class="fc" id="L393">            this.duplicateAttempts = duplicateAttempts;</span>
<span class="fc" id="L394">        }</span>
        
        public long getUnusualPatterns() {
<span class="fc" id="L397">            return unusualPatterns;</span>
        }
        
        public void setUnusualPatterns(long unusualPatterns) {
<span class="fc" id="L401">            this.unusualPatterns = unusualPatterns;</span>
<span class="fc" id="L402">        }</span>
        
        public List&lt;String&gt; getRiskFactors() {
<span class="fc" id="L405">            return riskFactors;</span>
        }
        
        public void setRiskFactors(List&lt;String&gt; riskFactors) {
<span class="fc" id="L409">            this.riskFactors = riskFactors;</span>
<span class="fc" id="L410">        }</span>
        
        public String getOverallRiskLevel() {
<span class="fc" id="L413">            return overallRiskLevel;</span>
        }
        
        public void setOverallRiskLevel(String overallRiskLevel) {
<span class="fc" id="L417">            this.overallRiskLevel = overallRiskLevel;</span>
<span class="fc" id="L418">        }</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.10.202304240956</span></div></body></html>